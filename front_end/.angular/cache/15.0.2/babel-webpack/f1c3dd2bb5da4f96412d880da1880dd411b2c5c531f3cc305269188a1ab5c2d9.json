{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../crop.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport let PaymentComponent = /*#__PURE__*/(() => {\n  class PaymentComponent {\n    constructor(service, router) {\n      this.service = service;\n      this.router = router;\n      this.buyCrop = this.service.getBuyCrop();\n    }\n    ngOnInit() {}\n    placeOrder(placeOrderForm) {\n      //console.log(placeOrderForm.name);\n      this.deliveryAddress = placeOrderForm.name + \"\\n\" + placeOrderForm.address + \"\\n\" + placeOrderForm.postcode + \"\\n\" + placeOrderForm.phone + \"\\n\" + placeOrderForm.emailId;\n      //console.log(this.deliveryAddress);\n      const orders = {\n        orderStatus: \"Processing\",\n        //orderDate :{Date},\n        deliveryAddress: this.deliveryAddress,\n        customer: this.service.customer\n      };\n      console.log(orders);\n      this.service.registerOrders(orders).subscribe(result => {\n        this.orders = result;\n        console.log(result);\n      });\n      if (this.orders != null) {\n        const orderDetails = {\n          orderQuantity: this.buyCrop.cropQuantity,\n          totalPrice: this.buyCrop.cropQuantity * this.buyCrop.price,\n          crop: this.buyCrop,\n          orders: this.orders\n        };\n        console.log(\"inside payment component\" + orderDetails.orderQuantity);\n        this.service.registerOrderDetails(orderDetails).subscribe(result => {\n          this.orderDetails = result;\n          console.log(result);\n        });\n        if (orderDetails != null) {\n          this.router.navigate(['orders']);\n        }\n      }\n    }\n  }\n  PaymentComponent.ɵfac = function PaymentComponent_Factory(t) {\n    return new (t || PaymentComponent)(i0.ɵɵdirectiveInject(i1.CropService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  PaymentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PaymentComponent,\n    selectors: [[\"app-payment\"]],\n    decls: 64,\n    vars: 4,\n    consts: [[1, \"container\"], [1, \"title\"], [1, \"d-flex\"], [\"action\", \"\", \"method\", \"\", 1, \"form-group\", 3, \"ngSubmit\"], [\"placeOrderForm\", \"ngForm\"], [1, \"name\"], [1, \"required\"], [\"type\", \"text\", \"name\", \"name\", \"ngModel\", \"\"], [\"type\", \"text\", \"name\", \"address\", \"placeholder\", \"Delivery Addresss\", \"ngModel\", \"\", \"required\", \"\"], [\"type\", \"text\", \"name\", \"postcode\", \"ngModel\", \"\"], [\"type\", \"tel\", \"name\", \"phone\", \"ngModel\", \"\"], [\"type\", \"email\", \"name\", \"emailId\", \"ngModel\", \"\"], [1, \"Yorder\"], [\"colspan\", \"2\"], [\"type\", \"radio\", \"name\", \"dbt\", \"value\", \"cd\"]],\n    template: function PaymentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Product Order Form\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"form\", 3, 4);\n        i0.ɵɵlistener(\"ngSubmit\", function PaymentComponent_Template_form_ngSubmit_5_listener() {\n          i0.ɵɵrestoreView(_r1);\n          const _r0 = i0.ɵɵreference(6);\n          return i0.ɵɵresetView(ctx.placeOrder(_r0.value));\n        });\n        i0.ɵɵelementStart(7, \"label\")(8, \"span\", 5);\n        i0.ɵɵtext(9, \"Name \");\n        i0.ɵɵelementStart(10, \"span\", 6);\n        i0.ɵɵtext(11, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(12, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"label\")(14, \"span\");\n        i0.ɵɵtext(15, \"Delivery Address \");\n        i0.ɵɵelementStart(16, \"span\", 6);\n        i0.ɵɵtext(17, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(18, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"label\")(20, \"span\");\n        i0.ɵɵtext(21, \"Postcode \");\n        i0.ɵɵelementStart(22, \"span\", 6);\n        i0.ɵɵtext(23, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(24, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"label\")(26, \"span\");\n        i0.ɵɵtext(27, \"Phone \");\n        i0.ɵɵelementStart(28, \"span\", 6);\n        i0.ɵɵtext(29, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(30, \"input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"label\")(32, \"span\");\n        i0.ɵɵtext(33, \"Email Address \");\n        i0.ɵɵelementStart(34, \"span\", 6);\n        i0.ɵɵtext(35, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(36, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\")(38, \"button\");\n        i0.ɵɵtext(39, \"Place Order\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(40, \"div\", 12)(41, \"table\")(42, \"tr\")(43, \"th\", 13);\n        i0.ɵɵtext(44, \"Your order\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"tr\")(46, \"td\");\n        i0.ɵɵtext(47);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"td\");\n        i0.ɵɵtext(49);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(50, \"tr\")(51, \"td\");\n        i0.ɵɵtext(52, \"Subtotal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"td\");\n        i0.ɵɵtext(54);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(55, \"tr\")(56, \"td\");\n        i0.ɵɵtext(57, \"Shipping\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"td\");\n        i0.ɵɵtext(59, \"Free shipping\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(60, \"br\");\n        i0.ɵɵelementStart(61, \"div\");\n        i0.ɵɵelement(62, \"input\", 14);\n        i0.ɵɵtext(63, \" Cash on Delivery \");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(47);\n        i0.ɵɵtextInterpolate2(\"\", ctx.buyCrop.cropName, \" x \", ctx.buyCrop.cropQuantity, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.buyCrop.cropQuantity * ctx.buyCrop.price);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.buyCrop.cropQuantity * ctx.buyCrop.price);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n    styles: [\"@import\\\"https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700\\\";body[_ngcontent-%COMP%]{background:white;font-family:Roboto Condensed,sans-serif;color:#262626;margin:5% 0}.container[_ngcontent-%COMP%]{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;box-shadow:absolute}@media (min-width: 1200px){.container[_ngcontent-%COMP%]{max-width:1140px}}.d-flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;background:#f6f6f6;border-radius:0 0 5px 5px;padding:25px}form[_ngcontent-%COMP%]{flex:4}.Yorder[_ngcontent-%COMP%]{flex:2}.title[_ngcontent-%COMP%]{background:#FF416C;border-radius:5px 5px 0 0;padding:20px;color:#f6f6f6}h2[_ngcontent-%COMP%]{margin:0;padding-left:15px}.required[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{display:block;margin:15px}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{float:left;width:25%;margin-top:12px;padding-right:10px}input[type=text][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:70%;height:30px;padding:5px 10px;margin-bottom:10px;border:1px solid #dadada;color:#888}select[_ngcontent-%COMP%]{width:72%;height:45px;padding:5px 10px;margin-bottom:10px}.Yorder[_ngcontent-%COMP%]{margin-top:15px;height:600px;padding:20px;border:1px solid #dadada}table[_ngcontent-%COMP%]{margin:0;padding:0}th[_ngcontent-%COMP%]{border-bottom:1px solid #dadada;padding:10px 0}tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:nth-child(1){text-align:left;color:#2d2d2a}tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:nth-child(2){text-align:right;color:#52ad9c}td[_ngcontent-%COMP%]{border-bottom:1px solid #dadada;padding:25px 25px 25px 0}p[_ngcontent-%COMP%]{display:block;color:#888;margin:0;padding-left:25px}.Yorder[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:15px 0}button[_ngcontent-%COMP%]{width:100%;margin-top:10px;padding:10px;border:none;border-radius:30px;background:#52ad9c;color:#fff;font-size:15px;font-weight:700}button[_ngcontent-%COMP%]:hover{cursor:pointer;background:#428a7d}\"]\n  });\n  return PaymentComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}